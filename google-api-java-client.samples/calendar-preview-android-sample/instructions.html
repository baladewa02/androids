<html>
<title>calendar-preview-android-sample</title>
<body>
  <h2>Instructions for the Calendar V3 Android Sample</h2>

  <h3>Browse Online</h3>

  <ul>
    <li><a
      href="http://code.google.com/p/google-api-java-client/source/browse?repo=samples#hg/calendar-preview-android-sample">Browse
        Source</a>, or main file <a
      href="http://code.google.com/p/google-api-java-client/source/browse/calendar-preview-android-sample/src/main/java/com/google/api/services/samples/calendar/android/CalendarSampleActivity.java?repo=samples">CalendarSampleActivity.java</a>
    </li>
  </ul>

  <h3>Register Your Application</h3>

  <p>You first need to register your Android application and sign up for
    access to the Google Calendar API in the Google APIs Console. First, you
    need the "Signing certificate fingerprint (SHA1)" for the debug and release
    builds:</p>
  <pre>
keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1
Enter keystore password: android

keytool -exportcert -alias androiddebugkey -keystore my-release-key.keystore | openssl sha1
</pre>

  <p>Next, register in the Google APIs Console:</p>

  <ul>
    <li>Visit the <a
      href="https://code.google.com/apis/console/?api=calendar">Google apis
        console</a>
    </li>
    <li>If this is your first time, click "Create project..."</li>
    <li>Click on "API Access", and then on "Create an OAuth 2.0 Client
      ID...".</li>
    <li>Enter a product name and click "Next".</li>
    <li>Select "Installed application", select "Android", enter
      com.google.api.services.samples.calendar.android for "Package name", paste
      the SHA1 fingerprint from above into "Signing certificate fingerprint
      (SHA1)", and click "Create client ID".</li>
    <li>Enter the "Client ID" and "Client secret" shown under "Client ID
      for installed applications" into <a
      href="src/main/resources/client_secrets.json">src/main/resources/client_secrets.json</a>
      file after checking out the code (otherwise you will get a <code>400
        INVALID_CLIENT</code> error in the browser when running the sample).
    </li>
  </ul>

  <h3>Checkout Instructions</h3>

  <p>
    <b>Prerequisites:</b> install <a href="http://java.com">Java 6</a>, <a
      href="http://mercurial.selenic.com/">Mercurial</a>. You may need to set
    your
    <code>JAVA_HOME</code>
    and
    <code>ANDROID_HOME</code>
    .
  </p>

  <pre>
cd <i>[someDirectory]</i>
hg clone https://code.google.com/p/google-api-java-client.samples/ google-api-java-client-samples
</pre>

  <p>
    <b>WARNING:</b>Google Play services is required to compile and run this
    sample. It will launch soon. Please check on
    https://developers.google.com/android/google-play-services for more details.
    Until then, we have provided a dummy fake-google-play-services.jar that only
    compiles the sample but will not run correctly.
  </p>

  <p>To enable logging of HTTP requests and responses (highly recommended
    when developing):</p>

  <pre>
adb shell setprop log.tag.HttpTransport DEBUG
</pre>


  <h3>Setup Project in Eclipse</h3>

  <p>
    <b>Prerequisites:</b> install <a href="http://www.eclipse.org/downloads/">Eclipse</a>,
    the <a href="http://javaforge.com/project/HGE">Mercurial plugin</a>
    (optional), and the <a
      href="http://developer.android.com/sdk/eclipse-adt.html#installing">Android
      plugin</a>.
  </p>

  <ul>
    <li>Preferences:
      <ul>
        <li>Android: setup SDK location</li>
      </ul>
    </li>
    <li>Window &gt; Android SDK and AVD Manager
      <ul>
        <li>Follow instructions to install Package "Google API's by Google
          Inc., Android API 15"</li>
        <li>Follow instructions to create a new Android Virtual Device
          based on target "Google API's (Google Inc.) - API Level 15"</li>
        <li>Click "Start..." (wait a while...)</li>
      </ul>
    </li>
    <li>Import <code>calendar-preview-android-sample</code> project
      <ul>
        <li>File &gt; Import...</li>
        <li>Select "General &gt; Existing Project into Workspace" and click
          "Next"</li>
        <li>Click "Browse" next to "Select root directory", find <code>
            <i><i>[someDirectory]</i>/google-api-java-client-samples/calendar-preview-android-sample</i>
          </code> and click "Next"
        </li>
        <li>Click "Finish"</li>
      </ul></li>
    <li>Clean Project (if compile error about missing gen directory)
      <ul>
        <li>Select <code>calendar-preview-android-sample</code> project
        </li>
        <li>Project &gt; Clean...</li>
        <li>Select "Clean projects selected below"</li>
        <li>Click on "OK"</li>
      </ul>
    </li>
    <li>Run
      <ul>
        <li>Right-click on project calendar-preview-android-sample</li>
        <li>Run As &gt; Android Application</li>
      </ul>
    </li>
  </ul>
</body>
</html>
